To estimate the probability that the attacker is black, we need to consider the reliability of the witness's testimony and the racial demographics of the city.

First, let's calculate the probability that the witness misidentified the attacker's race, given that the attacker is actually white. Since the witness correctly identifies race 80% of the time, the probability of error is 20%. So, the probability of the witness misidentifying a white person as black is 0.2 (or 20%).

Now, let's consider the fact that 85% of the city's population is white. If the witness is incorrect, the probability that they mistakenly identify a white person as black is 0.2. However, if the attacker is actually black, the witness will correctly identify them as such 80% of the time.

So, the probability of the witness misidentifying a white person as black (when the attacker is white) is 0.2, and the probability of the witness correctly identifying a black person as black (when the attacker is black) is 0.8.

The total probability of the witness misidentifying the attacker's race, regardless of the attacker's true race, is the sum of these two probabilities:

0.2 (probability of misidentifying a white person as black) * 0.85 (probability of the attacker being white) + 0 (probability of correctly identifying a white person as white) * 0.15 (probability of the attacker being black) + 0 (probability of misidentifying a black person as white) * 0.15 + 0.8 (probability of correctly identifying a black person as black) * 0.15

This simplifies to:

0.17 (or 17%)

Now, we can calculate the probability that the attacker is black, given that the witness misidentified them as such. This is the ratio of the probability of the witness correctly identifying a black person as black, when the attacker is actually black, to the total probability of misidentifying the attacker's race:

0.8 (probability of correctly identifying a black person as black) / 0.17 (total probability of misidentifying the attacker's race)

This simplifies to:

0.47 (or 47%)

So, based on the given information, the estimated probability that the attacker is black is 47%.