To estimate the probability that the attacker is black, we can use Bayes' theorem. Bayes' theorem is a formula that allows us to update our beliefs about a hypothesis based on new evidence. In this case, the hypothesis is that the attacker is black, and the evidence is the witness's identification of the attacker as black.

Let's denote:
- P(B) as the prior probability of the attacker being black (before considering the witness's testimony)
- P(B|W) as the probability of the witness identifying the attacker as black given that the attacker is black
- P(W|B) as the probability of the witness making this identification given that the attacker is black
- P(B|~W) as the probability of the witness identifying the attacker as black given that the attacker is not black
- P(~W|B) as the probability of the witness not making this identification given that the attacker is black
- P(~B) as the prior probability of the attacker not being black (before considering the witness's testimony)
- P(~W|~B) as the probability of the witness identifying the attacker as black given that the attacker is not black
- P(W|~B) as the probability of the witness not making this identification given that the attacker is not black

The witness's ability to judge a person's race is given in the information "a". According to this information, P(B|W) = 0.8 and P(~B|W) = 0.2.

The second piece of information "b" tells us that 85% of the population in the city is white, so P(B) = 0.15 and P(~B) = 0.85.

Since the witness could not see the attacker's race, we can assume that P(W|B) = P(W|~B) and P(~W|B) = P(~W|~B). From the information "a", we can infer that P(W|B) = P(W|~B) = 0.5, and P(~W|B) = P(W|~B) = 0.5.

Now we can calculate P(W|B) and P(~W|~B) using Bayes' theorem:

P(W|B) = P(B|W) * P(W) / P(B)
P(~W|B) = P(B|~W) * P(~W) / P(B)
P(W|~B) = P(~B|W) * P(W) / P(~B)
P(~W|~B) = P(~B|~W) * P(~W) / P(~B)

Since P(B) = 0.15, P(~B) = 0.85, and P(W) = P(~W) = 0.5, we can simplify these probabilities as follows:

P(W|B) = P(B|W) = 0.8
P(~W|B) = P(B|~W) = 0.2
P(W|~B) = P(~B|W) = 0.5
P(~W|~B) = P(~B|~W) = 0.5

Now we can calculate the probability that the attacker is black given the witness's testimony:

P(B|W) = [P(W|B) * P(B)] / [P(W|B) * P(B) + P(W|~B) * P(~B)]
= (0.8 * 0.15) / ((0.8 * 0.15) + (0.5 * 0.85))
= 0.12

So, the estimated probability that the attacker is black, given the witness's testimony, is approximately 0.12 or 12%. However, this estimate assumes that the witness's ability to judge a person's race under conditions similar to that night is constant and independent of whether the person is black or white. In reality, this assumption might not hold, and the actual probability could be different.