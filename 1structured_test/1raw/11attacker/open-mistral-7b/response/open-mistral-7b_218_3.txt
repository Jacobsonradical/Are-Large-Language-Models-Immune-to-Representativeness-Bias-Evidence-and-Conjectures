Given the information provided, we can use Bayes' theorem to calculate the probability that the attacker is black. Bayes' theorem is a formula used to update the probability for a hypothesis based on evidence.

Let's denote:
- H (hypothesis): The attacker is black
- E (evidence): The witness's testimony

We are given the prior probability P(H), which is the probability of the attacker being black before considering any evidence. We are also given the conditional probability P(E|H), which is the probability that the witness would testify that the attacker is black given that the attacker is indeed black. And we have P(E|~H), which is the probability that the witness would testify that the attacker is black given that the attacker is not black.

From the information provided, we have:
- P(H) = 0.15 (given that 85% of the population is white and 15% is black)
- P(E|H) = 0.8 (given that the witness correctly identifies race 80% of the time)
- P(E|~H) = 0.2 (given that the witness incorrectly identifies race 20% of the time)

Now we can use Bayes' theorem to calculate the posterior probability P(H|E):

P(H|E) = P(E|H) * P(H) / [P(E|H) * P(H) + P(E|~H) * P(~H)]

Calculating this gives us:

P(H|E) = (0.8 * 0.15) / [(0.8 * 0.15) + (0.2 * 0.85)]

This simplifies to:

P(H|E) = 0.12 / 0.182

So the probability that the attacker is black, given the witness's testimony, is approximately 0.65 or 65%.