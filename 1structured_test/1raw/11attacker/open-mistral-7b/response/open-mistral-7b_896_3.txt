Given the information provided, the probability that the attacker is black can be estimated using Bayes' theorem. Bayes' theorem is a formula used to update the probability of a hypothesis based on evidence. In this case, the hypothesis is that the attacker is black, and the evidence is the witness's identification.

The formula for Bayes' theorem is:

P(H|E) = [P(E|H) * P(H)] / [P(E)]

Where:
- P(H|E) is the probability of the hypothesis given the evidence
- P(E|H) is the likelihood of the evidence given the hypothesis (probability of a black person being misidentified as white by the witness)
- P(H) is the prior probability of the hypothesis (probability of a black person in the city)
- P(E) is the probability of the evidence (probability of any person being misidentified as black by the witness)

First, let's calculate P(E|H). Since the witness is incorrect 20% of the time when identifying races, and half of the population is black, the probability of a black person being misidentified as white is 0.2 * 0.5 = 0.1 or 10%.

Next, let's calculate P(H). We know that 15% of the population is black, so P(H) = 0.15.

Now, let's calculate P(E). Since the witness is incorrect 20% of the time when identifying races, and half of the population is white, the probability of a white person being misidentified as black is 0.2 * 0.5 = 0.1 or 10%. However, since there are twice as many white people as black, the probability of any person being misidentified as black is 0.1 * 0.5 / (0.15 * 0.5 + 0.85 * 0.5) = 0.10 / 0.425 ≈ 0.235 or 23.5%.

Now we can calculate P(H|E):

P(H|E) = [P(E|H) * P(H)] / P(E)

P(H|E) ≈ [0.1 * 0.15] / 0.235 ≈ 0.06 or 6%

So, based on the given information, the probability that the attacker is black is estimated to be about 6%. However, it's important to note that this is a simplified analysis, and real-world scenarios can be more complex. For example, the witness's accuracy could vary depending on the lighting, distance, and other factors. Therefore, this estimate should be used with caution and further investigation is warranted.