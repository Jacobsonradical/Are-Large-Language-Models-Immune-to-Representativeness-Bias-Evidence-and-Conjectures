To estimate the probability that the attacker is black, we can use Bayes' theorem. Bayes' theorem allows us to update the probability of a hypothesis based on new evidence. In this case, the hypothesis is that the attacker is black, and the new evidence is the witness's testimony.

Bayes' theorem is written as:

P(H|E) = P(E|H) * P(H) / P(E)

where:
- H is the hypothesis (attacker is black)
- E is the evidence (witness testimony)
- P(H|E) is the probability of the hypothesis given the evidence
- P(E|H) is the probability of the evidence given the hypothesis
- P(H) is the prior probability of the hypothesis
- P(E) is the probability of the evidence

First, let's find the probabilities:

- P(E|H): This is the probability that the witness would testify that the attacker is black, given that the attacker is black. Given the witness's reliability, this probability is 0.8 (from the first piece of information).
- P(H): This is the prior probability of the attacker being black. Since we don't have any initial information about the attacker's race, we can use the racial distribution in the city as our prior. Given the second piece of information, this probability is 0.15 (15% black population).
- P(E): This is the probability of the witness testifying that the attacker is black, regardless of the attacker's race. This probability is calculated as the weighted average of P(E|H) and P(E|~H), where ~H denotes the opposite hypothesis (attacker is not black). Since the total number of people is half white and half black, P(E|~H) is 0.8 (from the first piece of information). So, P(E) = 0.15 * 0.8 + 0.85 * (1 - 0.8) = 0.15 * 0.8 + 0.85 * 0.2 = 0.26.

Now, we can calculate P(H|E):

P(H|E) = P(E|H) * P(H) / P(E)
       = 0.8 * 0.15 / 0.26
       = 0.12

So, our estimate for the probability that the attacker is black is 0.12 or 12%.