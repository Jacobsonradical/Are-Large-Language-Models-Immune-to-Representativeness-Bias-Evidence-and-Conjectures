Given the information provided, let's break it down:
1. The city's population is 85% white and 15% black.
2. A witness, who is not perfect in identifying races, correctly identifies races 80% of the time and errs 20% of the time.
3. The witness identified the attacker as black.

Without knowing the actual error rate of the witness when identifying a black person, we can't directly calculate the probability that the attacker is black based on the witness's testimony alone. However, we can use Bayes' theorem to estimate this probability.

Bayes' theorem states that the probability of an event A given another event B is proportional to the probability of B given A and the prior probability of A. In this case, event A is the attacker being black, and event B is the witness identifying the attacker as black.

Let P(A) be the prior probability of the attacker being black (15%), P(B|A) be the probability of the witness correctly identifying a black person (80%), and P(B|not A) be the probability of the witness incorrectly identifying a white person as black (20%).

We need to find P(A|B), the probability of the attacker being black given that the witness identified the attacker as black.

Using Bayes' theorem:

P(A|B) = [P(B|A) * P(A)] / [P(B|A) * P(A) + P(B|not A) * P(not A)]

Substituting the values:

P(A|B) = [0.8 * 0.15] / [0.8 * 0.15 + 0.2 * 0.85]

Calculating the probability:

P(A|B) ≈ 0.15 / (0.15 * 0.8 + 0.2 * 0.85)

P(A|B) ≈ 0.15 / 0.26

P(A|B) ≈ 0.5769

So, the estimated probability that the attacker is black, given the witness's testimony, is approximately 57.69%.